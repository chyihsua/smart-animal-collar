# 結合影像辨識、定位技術的智慧項圈

## 第一階段 受虐、受傷偵測
### 研究動機與目的
臺灣流浪貓狗眾多，根據111年各縣市政府執行動物保護法案件情形統計結果，發現檢舉案件數較多的幾類為：*飼主照護責任、犬隻疏縱(含具攻擊性犬隻管理)、虐待傷害動物、未絕育及未申報、未辦理寵物登記、棄養動物*，而在==執法上常因找不到當事人、沒有確切證據而無法以法律制裁==，使得動保法立法卻不能實際落實，臺灣動保修法進度遲緩、困難重重加上相關人力不足，因此想藉由在動物身上的項圈裝上攝影機，透過影像紀錄、辨識、連網技術、定位技術，協助動保法檢舉案件的蒐證，落實動保法規定處理檢舉案件，也希望能及時地將偵測到的情況回報到相關單位，避免動物受害時錯失救援時機。

### 計畫摘要
目前的想法是先以流浪狗為主要目的對象，但在實驗階段會先以比較能受控的家寵做測試。

實行的方式是在項圈前中後裝設攝影機，避免只裝在前方，在貓狗低頭時會擋住鏡頭，將記錄到的影像經由連網技術先進行影像處理，再進行情況判別，若發現有虐待、受傷、攻擊犬隻相關行為，立馬將記錄到的影像存檔，將定位資訊與影像通報給附近可救援的單位或是政府機關，避免貓狗在無人情況下遭到虐待、傷害而無人救援。

預想的影像辨識系統功能除了要能做項圈三台攝影機的基礎影像處理外，還要能從影像中辨別出動物、人、常見施暴器具，偵測人施暴的姿態、動物移動的姿態，才能辨別出貓狗受虐、受傷、發現具攻擊犬隻的情況，再更進一步的話也許可以加入辨別捕獸夾、陷阱，並將影像回報檢舉給台灣動物法律扶助協會，或是透過影像特徵協助找尋走失的動物。

希望透過影像紀錄、辨別、連網、定位技術的結合，能有效將偵測到的違法事件回報給相關單位或附近能協助的單位，解決動保法實行上部份因證據不足無法以法律制裁的情況，也希望透過即時回報系統能讓流浪貓狗在受虐、受傷或遭遇攻擊的時候能及時獲得救援，相關單位在執法和管理攻擊犬隻上也比較容易。

### 預期會遇上的困難
1.	需瞭解流浪貓狗的習性、生活環境，可能會跟預想情況不太一樣
2.	流浪貓狗並非所有都能適應戴項圈(可以透過相信動物協會分析在外遊蕩犬的三種中，先以特定的作為實驗)
4.	攝影機需要克服重量、續航時間、可能被拉扯損壞、連網距離和穩定度的問題(可參考GPS定位項圈)
5.	項圈對流浪貓狗的安全性存疑慮
6.	項圈仍需要有人定期巡視清潔和隨著貓狗成長更換大小項圈，以免有衛生、安全的疑慮 


### 參考來源
1. [111年各縣市政府執行動物保護法案件情形](https://animal.coa.gov.tw/Frontend/Know/AnimalResource#tab11)
1. [國際遊蕩犬族群管理研討分享會](https://www.faithforanimals.org.tw/2019-dpm-taiwan)
2. [流浪動物管理政策](https://www.coa.gov.tw/ws.php?id=2267)
3. [動保法實行效果不佳](https://wuo-wuo.com/topics/companion-animals/200-cruelty-to-animals/1681-cruelty-to-animals04)
4. [攝影機架設概念參考汽車的360度影像](https://kknews.cc/zh-tw/car/o3b2rom.html)
5. [Surprising Dog Harness Dangers to Avoid](https://www.petmd.com/dog/care/surprising-dog-harness-dangers-avoid)
6. [Which type of dog collar is best for your dog?](https://www.humanesociety.org/resources/dog-collars)
7. [Tracking Devices for Pets: Health Risk Assessment for Exposure to Radiofrequency Electromagnetic Fields ](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8465301/)
8. [無線連網的寵物項圈](https://wpcdn.stu.edu.tw/wp-content/uploads/sites/93/2019/07/08153656/ga-M527209%E7%84%A1%E7%B7%9A%E9%80%A3%E7%B6%B2%E7%9A%84%E5%AF%B5%E7%89%A9%E9%A0%85%E5%9C%88.pdf)
10.[4G自動相機即時追蹤](https://fwscsc51783.wixsite.com/fwscsc/4gcamera)
11.[藍芽結合超寬頻技術的Airtag](https://applealmond.com/posts/98781)
12.[野保使用無線電項圈](https://ptrc.npust.edu.tw/2008/11/穿山甲無線電發報器裝設及野放追蹤/)
13.[項圈攝影機視野角度可以參考項圈攝影機](https://www.mrpetcam.com/)
14.[工研院研發iPetWear照護系統追蹤流浪動物健康](https://www.itri.org.tw/ListStyle.aspx?DisplayStyle=01_content&SiteID=1&MmmID=1036234671360446246&MGID=1161462630613700442)
15.[項圈形式-胸背帶參考](https://www.instagram.com/p/CsOVbUOvx_r/?igshid=NjZiM2M3MzIxNA==)

## 第二階段 周遭危險偵測

### 主要做法
在智慧項圈內加入影像和聲音辨識功能，分析周遭環境的潛在危險，引導動物遠離危險（目前還沒想到能夠如何做這部分，可以參考市售作法）

### 想法起源
台灣道路車多，夜晚常視線不佳沒注意到路邊動物，山區獵捕的捕獸夾、陷阱雖已立法禁止但仍無法完全避免，加上人們虐狗、毒狗案件經常發生，在經過網路查詢後發現目前的智慧項圈只做到偵測生理現象、GPS定位、防走失，項圈攝影機也較少是結合影像、聲音辨識危險的功能，但台灣街上動物多、車多、危險也多，不論是對於街上生活的動物或走失的家寵來說，處處都有潛在的危險，因此以偵測危險為出發，希望能打造出可以辨識周遭潛在危險，進而避免動物靠近的項圈。

### 技術概想
參照汽車360度影像顯示的設置方式，在項圈上的前、左、右、後裝置攝影機，以防動物低頭、抓癢等活動行為會有攝影死角，初想是以360度車子的技術去實現攝影的架設，聲音的部分仍在思考感測器的設置位置與效果，目前對於辨識的想法有：
1. 人物、武器、姿態辨識+聲音偵測：偵測可能對動物不善的人
1. 動物偵測+聲音辨識：
    *  偵測周遭動物數量、聲音、眼神姿態是否有攻擊的可能
    *  偵測附近是否有其他動物受傷（有難度），希望這部分最後能將偵測到的影像與聲音檔、定位回傳到附近可以救援或協助的協會或是找一個區域的統一救援平台
1. 陷阱影像偵測：偵測捕獸夾、常見獵捕陷阱，防止動物誤入陷阱。這部分目前想到可以以影像特徵辨識的方式去進行，可能會比大資料搜集相關照片再一一比對來的好
1. 街道偵測+聲音辨識：影像偵測附近車流、行進速度、喇叭聲，以風險值評估街道對動物安全的危險性多高，盡可能讓犬隻遠離
2. 警報聲、特殊標記影像辨識：針對火災、地震、鐵路平交道、施工標示、特殊地帶標示等，進行狀況判別，讓動物避免前往
3. 會攻擊的犬隻辨識標示：透過項圈鏡頭偵測周遭、透過聲音或是鏡頭分析戴項圈的動物是不是攻擊犬隻

###### 運用技術: `影像辨識` `影像處理` `語音分析` `姿態辨識` `Yolo`

### 可能遇到的困難
1. 項圈合適度可能不符合每一隻動物體型且隨著長大項圈也需要更換
2. 項圈對於動物的安全
3. 項圈連網的穩定度
4. 街上動物可能會有項圈損壞和遺失的狀況
5. 項圈運作所需續航力可能無法持久，街上動物若要定期更換不便
6. 裝置在項圈對於動物來說可能不是最好的裝置位子或方式
7. 可能遭有心人士或民眾誤解，將危險提醒功能過度信任，造成家寵放養狀況越來越多

### 初步解決想法
暫時設定實驗對象是特定體型、個性或生活環境相較穩定的動物，再一步步調整、擴大實驗對象範圍

### 對成果的期許
希望市面上智慧項圈不只是為家寵服務，也能幫助到生活在街上的動物，減少動物誤入陷阱、慘遭路殺、遭路人毆打而受傷喪命的機會，降低街上動物對醫療的需求，也能減輕街上餵養街貓狗的人對街貓狗的擔憂、降低受傷需要就醫的機率，也能利用街上動物身上的項圈紀錄影像，結合定位資訊協助找尋走失的家寵。

:::warning
不是每一個餵養者都能給街上動物一個溫暖安全的家，但這也不代表餵養者不在意這個生命，我們可能很難終結街上動物的出現，但我們可以盡所能幫助牠們遠離危險，讓牠們即便沒有一個安全的家，也能有一個比較安全的生活。
:::

### 參考資料
* 影像辨識技術
    * 物件辨識：Yolov7
    * 姿態辨識
* 音訊分析技術：
* 連網技術：
* App開發：
* 定位技術：GPS/藍芽發送器/無線電
* [檢舉捕獸夾](https://www.taiwananimallegalaid.org/trapreport)

## 第三階段 走失協尋
（好像計畫太多了 先這樣吧
